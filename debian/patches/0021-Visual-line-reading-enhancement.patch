From: "Igor B. Poretsky" <poretsky@rakurs.com>
Date: Fri, 25 Nov 2022 14:57:05 +0300
Subject: Visual line reading enhancement

Distinguishable tones for various decorations.
---
 lisp/emacspeak-speak.el | 24 +++++++++++++++++++-----
 1 file changed, 19 insertions(+), 5 deletions(-)

diff --git a/lisp/emacspeak-speak.el b/lisp/emacspeak-speak.el
index ebfc3b6..8530add 100644
--- a/lisp/emacspeak-speak.el
+++ b/lisp/emacspeak-speak.el
@@ -1047,8 +1047,8 @@ Cues the start of a physical line with auditory icon `left'."
   (when dtk-stop-immediately (dtk-stop))
   (let ((inhibit-field-text-motion t)
         (inhibit-read-only t)
-        (start nil)
-        (end nil)
+        (start (line-beginning-position))
+        (end (line-end-position))
         (inhibit-point-motion-hooks t)
         (inhibit-modification-hooks t)
         (line nil)
@@ -1058,16 +1058,30 @@ Cues the start of a physical line with auditory icon `left'."
      ((looking-at " *$") (emacspeak-auditory-icon 'right)))
     (save-excursion
       (beginning-of-visual-line)
-      (setq start (point))
+      (setq start (max (point) start))
       (end-of-visual-line)
-      (setq end (point))
+      (setq end (min (point) end))
       (setq line
             (if emacspeak-show-point
                 (ems-set-personality-temporarily
                  orig (1+ orig)
                  voice-animate (buffer-substring start end))
               (buffer-substring start end)))
-      (dtk-speak line))))
+      (cond
+       ((string-equal ""  line)
+        (dtk-tone 130.8   75 'force))
+       ((string-match  emacspeak-speak-blank-line-regexp  line)
+        (dtk-tone 261.6   75 'force))
+       ((and (not (eq 'all dtk-punctuation-mode))
+             (string-match  emacspeak-horizontal-rule line))
+        (dtk-tone 523.3   100 t))
+       ((and (not (eq 'all dtk-punctuation-mode))
+             (string-match  emacspeak-decoration-rule line))
+        (dtk-tone 1047   100 t))
+       ((and (not (eq 'all dtk-punctuation-mode))
+             (string-match  emacspeak-unspeakable-rule line))
+        (dtk-tone 2093   100 t))
+       (t (dtk-speak line))))))
 
 (defvar emacspeak-speak-last-spoken-word-position nil
   "Records position of the last word that was spoken.
