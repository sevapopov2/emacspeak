From: "Igor B. Poretsky" <poretsky@rakurs.com>
Date: Fri, 25 Nov 2022 14:57:05 +0300
Subject: Line reading enhancement

Distinguishable tones for various decorations.
---
 lisp/emacspeak-speak.el | 24 ++++++++++++++++++++----
 1 file changed, 20 insertions(+), 4 deletions(-)

diff --git a/lisp/emacspeak-speak.el b/lisp/emacspeak-speak.el
index 3bd4b6e..aa05a23 100644
--- a/lisp/emacspeak-speak.el
+++ b/lisp/emacspeak-speak.el
@@ -1082,7 +1082,7 @@ with auditory icon `more'.  These can then be spoken using command
   "Speaks current visual line.
 Cues the start of a physical line with auditory icon `left'."
   (interactive)
-  (cl-declare (special dtk-stop-immediately emacspeak-show-point))
+  (cl-declare (special dtk-stop-immediately emacspeak-show-point emacspeak-speak-space-regexp))
   (when dtk-stop-immediately (dtk-stop))
   (let ((inhibit-field-text-motion t)
         (deactivate-mark nil)
@@ -1096,18 +1096,34 @@ Cues the start of a physical line with auditory icon `left'."
     (cond
      ((looking-at "^ *") (emacspeak-auditory-icon 'left))
      ((looking-at " *$") (emacspeak-auditory-icon 'right)))
+    (setq start (line-beginning-position)
+          end (line-end-position))
     (save-excursion
       (beginning-of-visual-line)
-      (setq start (point))
+      (setq start (max (point) start))
       (end-of-visual-line)
-      (setq end (point))
+      (setq end (min (point) end))
       (setq line
             (if emacspeak-show-point
                 (ems-set-personality-temporarily
                  orig (1+ orig)
                  voice-animate (buffer-substring start end))
               (buffer-substring start end)))
-      (dtk-speak line))))
+      (cond
+       ((string-equal ""  line)
+        (dtk-tone 130.8   75 'force))
+       ((string-match  emacspeak-speak-space-regexp  line)
+        (dtk-tone 261.6   75 'force))
+       ((and (not (eq 'all dtk-punctuation-mode))
+             (string-match  emacspeak-horizontal-rule line))
+        (dtk-tone 523.3   100 t))
+       ((and (not (eq 'all dtk-punctuation-mode))
+             (string-match  emacspeak-decoration-rule line))
+        (dtk-tone 1047   100 t))
+       ((and (not (eq 'all dtk-punctuation-mode))
+             (string-match  emacspeak-unspeakable-rule line))
+        (dtk-tone 2093   100 t))
+       (t (dtk-speak line))))))
 
 (defvar emacspeak-speak-last-spoken-word-position nil
   "Records position of the last word that was spoken.
