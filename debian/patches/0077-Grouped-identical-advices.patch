From: "Igor B. Poretsky" <poretsky@rakurs.com>
Date: Wed, 23 Nov 2022 17:38:45 +0300
Subject: Grouped identical advices

---
 lisp/emacspeak-c.el    | 70 ++++++++++++++++++++++----------------------------
 lisp/emacspeak-info.el | 20 +++++++--------
 2 files changed, 40 insertions(+), 50 deletions(-)

diff --git a/lisp/emacspeak-c.el b/lisp/emacspeak-c.el
index 144b375..a949258 100644
--- a/lisp/emacspeak-c.el
+++ b/lisp/emacspeak-c.el
@@ -102,37 +102,30 @@
 
 ;;; CPP directives:
 
-(defadvice c-up-conditional (after emacspeak pre act)
-  "Speak the line moved to."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'large-movement)
-    (emacspeak-speak-line)))
-
-(defadvice c-forward-conditional (after emacspeak pre act)
-  "Speak the line moved to."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'large-movement)
-    (emacspeak-speak-line)))
-
-(defadvice c-backward-conditional (after emacspeak pre act)
-  "Speak the line moved to."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'large-movement)
-    (emacspeak-speak-line)))
+(cl-loop for f in
+      '(c-up-conditional
+	c-forward-conditional
+	c-backward-conditional)
+      do
+      (eval
+       `(defadvice ,f (after emacspeak pre act comp)
+	  "Speak the line moved to."
+	  (when (ems-interactive-p)
+	    (emacspeak-auditory-icon 'large-movement)
+	    (emacspeak-speak-line)))))
 
 ;;; Statements
 
-(defadvice c-beginning-of-statement (after emacspeak pre act)
-  "Speak the line moved to."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'item)
-    (emacspeak-speak-line)))
-
-(defadvice c-end-of-statement (after emacspeak pre act)
-  "Speak the line moved to."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'item)
-    (emacspeak-speak-line)))
+(cl-loop for f in
+      '(c-beginning-of-statement
+	c-end-of-statement)
+      do
+      (eval
+       `(defadvice ,f (after emacspeak pre act comp)
+	  "Speak the line moved to."
+	  (when (ems-interactive-p)
+	    (emacspeak-auditory-icon 'item)
+	    (emacspeak-speak-line)))))
 
 (defadvice c-mark-function (after emacspeak pre act)
   "Provide spoken and auditory feedback."
@@ -145,17 +138,16 @@
 ;;}}}
 ;;{{{ advice program navigation
 
-(defadvice  c-beginning-of-defun (after emacspeak pre act)
-  "Speak the line."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'paragraph)
-    (emacspeak-speak-line)))
-
-(defadvice  c-end-of-defun (after emacspeak pre act)
-  "Speak the line."
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'paragraph)
-    (emacspeak-speak-line)))
+(cl-loop for f in
+      '(c-beginning-of-defun
+	c-end-of-defun)
+      do
+      (eval
+       `(defadvice ,f (after emacspeak pre act comp)
+	  "Speak the line moved to."
+	  (when (ems-interactive-p)
+	    (emacspeak-auditory-icon 'paragraph)
+	    (emacspeak-speak-line)))))
 
 ;;}}}
 ;;{{{  extensions  provided by c++ mode
diff --git a/lisp/emacspeak-info.el b/lisp/emacspeak-info.el
index 5f9b25e..94b20a2 100644
--- a/lisp/emacspeak-info.el
+++ b/lisp/emacspeak-info.el
@@ -155,17 +155,15 @@ and then cue the next selected buffer."
     (with-current-buffer (window-buffer)
       (emacspeak-speak-mode-line))))
 
-(defadvice Info-next-reference (after emacspeak pre act)
-  "Speak the line. "
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'large-movement)
-    (emacspeak-speak-line)))
-
-(defadvice Info-prev-reference (after emacspeak pre act)
-  "Speak the line. "
-  (when (ems-interactive-p)
-    (emacspeak-auditory-icon 'large-movement)
-    (emacspeak-speak-line)))
+(cl-loop for f in
+      '(Info-next-reference Info-prev-reference)
+      do
+      (eval
+       `(defadvice ,f (after emacspeak pre act)
+          "Play an auditory icon and speak the line. "
+          (when (ems-interactive-p)
+            (emacspeak-auditory-icon 'large-movement)
+            (emacspeak-speak-line)))))
 
 ;;;###autoload
 (defun emacspeak-info-wizard (node-spec)
